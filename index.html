<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ุฏููู ุงูุฑุฌูู ุงูุตุญู โ ุงูุณุนูุฏูุฉ | ุฎุทุท ูุฌุจุงุช + ุญุงุณุจุฉ + ูุชุงุจุนุฉ + ุชูุงุฑูู</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- ุงุณุชุฎุฏู ููู CSS ูุญูู ูู ุงูุฅูุชุงุฌ -->
  <link rel="stylesheet" href="css/styles.css">
  <meta name="description" content="ุฃุทุนูุฉ ุณุนูุฏูุฉุ ุฌุฏูู ูุฌุจุงุช ูุชุบููุฑุ ุญุงุณุจุฉุ ูุชุงุจุนุฉ ูุฒูุ ุชูุงุฑูู ูุน ููุฏูููุงุช YouTube.">
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#667eea">
  <script defer src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50 text-gray-800" data-theme="light">
  <header class="gradient-bg text-white py-8 shadow">
    <div class="container mx-auto px-4 text-center">
      <h1 class="text-4xl md:text-6xl font-bold mb-3">๐ฝ๏ธ ุฏููู ุงูุฑุฌูู ุงูุตุญู โ ููุงุณุจ ููุณุนูุฏูุฉ</h1>
      <p class="text-lg md:text-2xl opacity-90">ุฃุทุนูุฉ ูุญููุฉ + ุฌุฏูู ูุฌุจุงุช + ุญุงุณุจุฉ + ูุชุงุจุนุฉ ูุฒู + ุชูุงุฑูู</p>
      <div class="mt-4">
        <button id="toggleTheme" class="px-4 py-2 bg-black/20 rounded-full">ุชุจุฏูู ุงููุถุน ุงููููู</button>
      </div>
      <div class="mt-4 grid grid-cols-2 gap-3 max-w-md mx-auto text-sm">
        <div class="bg-white/20 rounded p-3"><div>๐ฅ ุฅุฌูุงูู ุงูุฒูุงุฑุงุช</div><div id="totalVisits" class="text-2xl font-extrabold">0</div></div>
        <div class="bg-white/20 rounded p-3"><div>โก ุงููุดุทูู ุงูุขู</div><div id="activeNow" class="text-2xl font-extrabold">1</div></div>
      </div>
    </div>
  </header>

  <nav class="bg-white shadow sticky top-0 z-50" role="tablist" aria-label="ุงูุชูููู">
    <div class="container mx-auto px-4">
      <div class="flex flex-wrap justify-center gap-3 py-4">
        <button class="nav-btn tab-active" data-target="foods" role="tab" aria-selected="true">ุงูุฃุทุนูุฉ</button>
        <button class="nav-btn" data-target="diet-plan" role="tab" aria-selected="false">ุฌุฏูู ุงููุฌุจุงุช</button>
        <button class="nav-btn" data-target="exercises" role="tab" aria-selected="false">ุงูุชูุงุฑูู</button>
        <button class="nav-btn" data-target="calculator" role="tab" aria-selected="false">ุญุงุณุจุฉ ุงูุณุนุฑุงุช</button>
        <button class="nav-btn" data-target="progress" role="tab" aria-selected="false">ูุชุงุจุนุฉ ุงูุฑุฌูู</button>
        <button class="nav-btn" data-target="faq" role="tab" aria-selected="false">ุงูุฃุณุฆูุฉ</button>
      </div>
    </div>
  </nav>

  <!-- FOODS -->
  <section id="foods" class="section py-14">
    <div class="container mx-auto px-4">
      <h2 class="section-title">๐ด ุฃุทุนูุฉ ุดุงุฆุนุฉ ูู ุงูุณุนูุฏูุฉ ูุน ุชูุงุตูู ุบุฐุงุฆูุฉ</h2>
      <div id="foodsGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- ูุญุชูู ุซุงุจุช ุนุฑุถู. ุจูุงูุงุช ุฃูุซุฑ ุชุถุงู ุนุจุฑ js/meals.js -->
      </div>
    </div>
  </section>

  <!-- DIET PLAN -->
  <section id="diet-plan" class="section py-14 hidden bg-gray-100">
    <div class="container mx-auto px-4">
      <h2 class="section-title">๐ ุฌุฏูู ูุฌุจุงุช ุฃุณุจูุนู ูุชููุน ููุชุบูุฑ</h2>

      <div class="mb-6 flex flex-wrap gap-3 items-center justify-center">
        <button id="shuffleAll" class="btn-primary">ุจุฏูู ูู ุงูุฃุณุจูุน</button>
        <button id="pinAll" class="btn-secondary">ุซุจูุช ุงููู</button>
        <button id="unpinAll" class="btn-secondary">ุฅูุบุงุก ุชุซุจูุช ุงููู</button>
        <button id="savePlan" class="btn-secondary">ุญูุธ ุงูุฎุทุฉ</button>
        <button id="clearPlan" class="btn-danger">ูุณุญ ุงูุฎุทุฉ</button>
      </div>

      <div id="weekly-plan" class="grid md:grid-cols-2 gap-4 max-w-5xl mx-auto"></div>

      <div class="mt-8 bg-white p-4 rounded shadow">
        <h3 class="font-bold mb-2">ุงููุฌุจุงุช ุงูููููุฉ ุงูุซุงุจุชุฉ</h3>
        <ol class="list-decimal pr-5 space-y-2 text-sm">
          <li>
            <strong>ุงููุฌุจุฉ ุงูุฃููู:</strong><br>
            ูค ุจูุถุงุช (ูก ูุงููุฉ + ูฃ ุจูุงุถ) ูุณูููุฉ + ูขููุบ ุจุทุงุทุณ ูุณูููุฉ + ูฅูุบ ุดููุงู.<br>
            (ุณุนุฑุงุช ุชูุฑูุจูุฉ: 450 ุณ)
          </li>
          <li>
            <strong>ุจุนุฏ ูฃ ุณุงุนุงุช - ุงููุฌุจุฉ ุงูุซุงููุฉ:</strong><br>
            ูกูฆูุบ ุตุฏูุฑ ุฏุฌุงุฌ + ูกูคูุบ ุฑุฒ ุฃุจูุถ + ุณูุทุฉ ุฎุถุฑุง.<br>
            (ุณุนุฑุงุช ุชูุฑูุจูุฉ: 550 ุณ)
          </li>
          <li>
            <strong>ุจุนุฏ ูฃ ุณุงุนุงุช - ุงููุฌุจุฉ ุงูุซุงูุซุฉ:</strong><br>
            ูกูงูุบ ูุญู ุจูุฑู + ูจูุบ ููุฑููุฉ + ุณูุทุฉ ุฎุถุฑุง.<br>
            (ุณุนุฑุงุช ุชูุฑูุจูุฉ: 600 ุณ)
          </li>
          <li>
            <strong>ุจุนุฏ ูฃ ุณุงุนุงุช - ุงููุฌุจุฉ ุงูุฑุงุจุนุฉ:</strong><br>
            ุชููุฉ (ูุงุก ูููุญ) ุนุจูุฉ ูุณุท + ุฎูุงุฑ ุฃู ุฎุณ.<br>
            (ุณุนุฑุงุช ุชูุฑูุจูุฉ: 180 ุณ)
          </li>
        </ol>
        <p class="mt-3 text-sm"><strong>ุงููุงุก:</strong> 3/4 ูุชุฑ ููููุงู (ุงุจุฏุฃ ุจุงูุชุตุงุนุฏ ุฅูู 2-3 ูุชุฑ ุชุฏุฑูุฌูุงู ุญุณุจ ุงูุฎุทุฉ).</p>

        <div class="mt-4 p-3 bg-gray-50 rounded text-sm">
          <h4 class="font-bold mb-2">ููุงุญุธุงุช ุซุงุจุชุฉ</h4>
          <ul class="list-disc pr-5 space-y-1">
            <li>ุงููุฒู ูููุงุณ ุจุนุฏ ุงูุทูู ูุนูู ุงูุฑูู ุตุจุงุญุงู ูุจู ุงูุฃูู.</li>
            <li>ุงูููุญุ ุงูุดุทุฉุ ุงููููู ุงูุฃุณูุฏุ ุงูููููุ ุงููููููุ ุงูุฒูุฌุจูู ูุณููุญ.</li>
            <li>ุงููููุฉ ุงูุณูุฏุงุก ุจูุง ุณูุฑ ุฃู ูุน ุณูุฑ ุงุณุชูููุง.</li>
            <li>ุงููููุฉ ุงูุนุฑุจู ูุณููุญุฉ ูฃ ูุฑุงุช ุฃุณุจูุนูุงู.</li>
            <li>ุงูุดุงู ุฃุฎุถุฑ/ุฃุณูุฏ ุจุฏูู ุณูุฑ.</li>
            <li>ูุง ุชุฏุฎู ุฃู ุทุนุงู ุฎุงุฑุฌ ุงูุฌุฏูู ุฏูู ุฅุนูุงู ุงููุฏุฑุจ.</li>
            <li>ุงุณุชูุณุฑ ููุฑุงู ุนู ุฃู ุบููุถ.</li>
            <li>ุบูู ุงููุฌุจุงุช ูุจู ุงูุณุงุนุฉ 12 ููุชุตู ุงูููู.</li>
            <li>ุงุดุฑุจ ููุจูู ูุงุก ูุน ูู ูุฌุจุฉ.</li>
            <li>ุชููู ุนู ุงููุดุฑูุจุงุช ุงูุบุงุฒูุฉ ูุงูุญูููุงุช.</li>
            <li>ุงูุจุตูุ ุงูุทูุงุทูุ ุงูุฌุฒุฑ ูุณููุญุงู.</li>
            <li>ุฒูุช ุงูุฒูุชูู ุฃู ุฒูุช ุฏูุงุฑ ุงูุดูุณ ูุณููุญ.</li>
            <li>ุทุฑู ุงูุทุจุฎ ุงููุณููุญุฉ: ูุณูููุ ูุดููุ ูู ุงูููุงูุฉ ุงูููุงุฆูุฉ.</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- EXERCISES -->
  <section id="exercises" class="section py-14 hidden">
    <div class="container mx-auto px-4">
      <h2 class="section-title">๐๏ธโโ๏ธ ุชูุงุฑูู ููู ุฌุฒุก + ููุฏูู</h2>

      <p class="text-sm text-gray-600 mb-3">ูู ุชูุฑูู ูุธูุฑ ููุฏูู ุดุฑุญ. ุงุถุบุท ุนูู ุงูููุฏูู ูุชุญูููู. ุซู ุงุถุบุท "ูุชุญ ูู ุงูููุชููุจ" ููุชุญ ุงูุตูุญุฉ ุงููุงููุฉ.</p>

      <div id="exGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- ุณูุชู ุชุนุจุฆุชูุง ูู ุงูุณูุฑุจุช -->
      </div>

      <div class="mt-6 bg-white p-4 rounded shadow text-sm">
        <h4 class="font-bold">ููุงุนุฏ ุงูุชุฏุฑูุจ</h4>
        <p class="mt-2">ููู ุชูุฑูู: ูค ุฌููุงุช (ูกูฅ - ูกูข - ูกูข - ูกู). ุฑุงุญุฉ ูคู ุซุงููุฉ ุจูู ูู ุฌููุฉ. ุฑุงุญุฉ ูข ุฏูููุฉ ุจูู ูู ุชูุฑูู ูุชูุฑูู.</p>
        <p class="mt-2 font-semibold">ุฃูู ุฃุณุจูุน: ุชูุฑูู ุดุงูู ููุงูู ุงูุฌุณู ูุชุนููุฏ ุงูููุงุตู ูุชูุงุฏู ุงูุฅุตุงุจุงุช. (ูุณู ูุณุชูู ููุฌูุฏ ูู ุฃุณูู ุงูุตูุญุฉ)</p>
        <p class="mt-2">ุงููุงุฑุฏูู ูููู: ูฆู ุฏูููุฉ ูุดู ุณุฑูุน. ุฃูุถู ููุช: ุนูู ุงูุฑูู ุตุจุงุญุงู. ูุฑูุน ุงููุฏุฉ ุชุฏุฑูุฌูุงู ุญุณุจ ุงููุชุงุฆุฌ ูู ุฌูุนุฉ.</p>
      </div>

      <div id="firstWeek" class="mt-6 bg-gray-50 p-4 rounded shadow">
        <h3 class="font-bold mb-2">ุงูุฎุทุฉ ุงูุดุงููุฉ ููุฃุณุจูุน ุงูุฃูู</h3>
        <p class="text-sm">ุชูุงุฑูู ุดุงููุฉ ููู ุงูุฌุณู ูุน ููุฏูู ุชูุถูุญู ููู ุฌุฒุก.</p>
        <div id="firstWeekGrid" class="grid md:grid-cols-2 gap-4 mt-3"></div>
      </div>
    </div>
  </section>

  <!-- CALCULATOR -->
  <section id="calculator" class="section py-14 hidden">
    <div class="container mx-auto px-4">
      <h2 class="section-title">๐งฎ ุญุงุณุจุฉ ุงูุณุนุฑุงุช ุงูุญุฑุงุฑูุฉ</h2>
      <div class="max-w-4xl mx-auto grid md:grid-cols-2 gap-8">
        <div class="card">
          <form id="calForm" onsubmit="return false;" class="space-y-4">
            <div><label class="lbl">ุงูุฌูุณ</label>
              <div class="flex gap-4">
                <label class="flex items-center gap-2"><input type="radio" name="gender" value="male" checked> ุฐูุฑ</label>
                <label class="flex items-center gap-2"><input type="radio" name="gender" value="female"> ุฃูุซู</label>
              </div></div>
            <div><label class="lbl">ุงูุนูุฑ</label><input id="age" type="number" class="inp" min="15" max="100" required></div>
            <div><label class="lbl">ุงููุฒู (ูุบ)</label><input id="weight" type="number" class="inp" min="30" max="200" required></div>
            <div><label class="lbl">ุงูุทูู (ุณู)</label><input id="height" type="number" class="inp" min="120" max="220" required></div>
            <div><label class="lbl">ุงููุดุงุท</label>
              <select id="activity" class="inp">
                <option value="1.2">ูููู ุงูุญุฑูุฉ</option><option value="1.375">ูุดุงุท ุฎููู</option>
                <option value="1.55">ูุดุงุท ูุชูุณุท</option><option value="1.725">ูุดุงุท ุนุงูู</option><option value="1.9">ูุดุงุท ููุซู</option></select></div>
            <div><label class="lbl">ุงููุฏู</label>
              <select id="goal" class="inp">
                <option value="-500">ููุฏุงู 0.5 ูุบ/ุฃุณุจูุน</option><option value="-250">ููุฏุงู 0.25 ูุบ/ุฃุณุจูุน</option>
                <option value="0">ุญูุงุธ</option><option value="250">ุฒูุงุฏุฉ 0.25 ูุบ/ุฃุณุจูุน</option><option value="500">ุฒูุงุฏุฉ 0.5 ูุบ/ุฃุณุจูุน</option></select></div>
            <button type="button" id="calcBtn" class="btn-primary">ุงุญุณุจ</button>
          </form>
        </div>
        <div class="card">
          <div id="results" class="hidden space-y-3">
            <div class="pill pill-blue"><div class="pill-title">BMR</div><div id="bmr" class="pill-val">0</div></div>
            <div class="pill pill-green"><div class="pill-title">ุงูุญูุงุธ</div><div id="maintenance" class="pill-val">0</div></div>
            <div class="pill pill-purple"><div class="pill-title">ุงููุฏู</div><div id="target" class="pill-val">0</div></div>
            <div class="pill pill-yellow"><div class="pill-title">BMI</div><div id="bmi" class="pill-val">0</div><div id="bmi-status" class="text-xs text-gray-600">-</div></div>
            <div class="p-3 bg-gray-50 rounded">
              <div class="font-bold mb-1">ุชูุฒูุน ุงููุบุฐูุงุช</div>
              <div class="grid grid-cols-3 text-center text-sm">
                <div><div class="font-semibold text-rose-600">ุจุฑูุชูู</div><div id="protein">0g</div></div>
                <div><div class="font-semibold text-blue-600">ูุงุฑุจ</div><div id="carbs">0g</div></div>
                <div><div class="font-semibold text-green-600">ุฏููู</div><div id="fats">0g</div></div>
              </div>
            </div>
          </div>
          <div id="no-results" class="text-center text-gray-500 py-10">ุฃุฏุฎู ุจูุงูุงุชู ูุนุฑุถ ุงููุชุงุฆุฌ</div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROGRESS -->
  <section id="progress" class="section py-14 hidden bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="section-title">๐ ูุชุงุจุนุฉ ุงูุฑุฌูู</h2>
      <div class="max-w-xl mx-auto card space-y-3">
        <input id="weightInput" type="number" placeholder="ุฃุฏุฎู ูุฒูู ุงูุญุงูู (ูุบ)" class="inp">
        <button id="addWeight" class="btn-primary">ุฅุถุงูุฉ ูุฒู</button>
      </div>
      <div class="max-w-3xl mx-auto mt-6 card">
        <h3 class="text-lg font-bold mb-2">ุณุฌู ุงูุฃูุฒุงู</h3>
        <ul id="weightList" class="space-y-2 text-gray-700"></ul>
      </div>
      <div class="max-w-3xl mx-auto mt-6 card">
        <canvas id="weightChart"></canvas>
      </div>
    </div>
  </section>

  <section id="faq" class="section py-14 hidden">
    <div class="container mx-auto px-4">
      <h2 class="section-title">โ ุฃุณุฆูุฉ ุดุงุฆุนุฉ</h2>
      <div class="grid md:grid-cols-2 gap-4">
        <details class="card"><summary class="font-bold cursor-pointer">ูู ูููู ุงุณุชุจุฏุงู ุงูุฎุจุฒ ุงูุฃุจูุถุ</summary><p class="mt-2 text-sm text-gray-700">ูุนูุ ุงุณุชุฎุฏู ุฎุจุฒ ุจุฑ ุฃู ุดููุงู ุฃู ุตุงุฌ ุฃุณูุฑ.</p></details>
        <details class="card"><summary class="font-bold cursor-pointer">ูู ูุฑุฉ ุฃูุงุฑุณ ุงููุงุฑุฏููุ</summary><p class="mt-2 text-sm text-gray-700">ูฃโูฅ ูุฑุงุช ุฃุณุจูุนููุง ููุฏุฉ ูขูโูฃู ุฏูููุฉ.</p></details>
        <details class="card"><summary class="font-bold cursor-pointer">ุฃูุถู ููุช ููุนุดุงุกุ</summary><p class="mt-2 text-sm text-gray-700">ูุจู ุงูููู ุจู ูขโูฃ ุณุงุนุงุช.</p></details>
      </div>
    </div>
  </section>

  <footer class="gradient-bg text-white py-10 mt-10">
    <div class="container mx-auto px-4 text-center">
      <p class="mb-1">ยฉ ูุณุฎุฉ ูุฎุตุตุฉ ููุณูู ุงูุณุนูุฏู</p>
    </div>
  </footer>

  <!-- ุณูุฑุจุชุงุช: ุถููู ุจูุงูุงุช ุงููุตูุงุช ุฃููุงู -->
  <script defer src="js/meals.js"></script>
  <script defer src="js/app.js"></script>
  <script defer src="js/tracker.js"></script>

  <!-- ุนููู ุชุณุฌูู Service Worker ุฃุซูุงุก ุงูุงุฎุชุจุงุฑ -->
  <!--<script>if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js'); }</script>-->

  <!-- ุณูุฑุจุช ูุญูู ุตุบูุฑ ูุจูุงุก ุงูู DOM ุงูุฎุงุต ุจุงูุชูุงุฑูู ูุงููุฌุจุงุช ุงูุซุงุจุชุฉ ูุชุญููู ููุฏูู ููุชููุจ ุนูุฏ ุงูุทูุจ -->
  <script>
  (function(){
    // ุนูุงุตุฑ ุซุงุจุชุฉ ููุชูุงุฑูู ูุน ูุนุฑูุงุช YouTube (nocookie)
    const EXERCISES = [
      {group:'ุจุงู', youtube:'bA3J2H8m1t8', list:['EZ-Bar Curl','Hammer Curl','Concentration Curl']},
      {group:'ุชุฑุงู', youtube:'6SSQzW4Zp6k', list:['Close-Grip Bench','Overhead Extension','Tricep Dips']},
      {group:'ุณูุงุนุฏ', youtube:'someId1', list:['Wrist Curl','Reverse Curl']},
      {group:'ุตุฏุฑ', youtube:'dQw4w9WgXcQ', list:['Bench Press','Incline Press','Cable Fly']},
      {group:'ุงูุฎุงุฐ', youtube:'aclHkVaku9U', list:['Squat','Lunge','Leg Press']},
      {group:'ุจุทุงุช', youtube:'SeatedCalf', list:['Seated Calf Raise','Standing Calf Raise']},
      {group:'ุธูุฑ', youtube:'X2m-5m9v1Z0', list:['Pull-ups','Bent-over Row','Deadlift']},
      {group:'ุงูุชุงู', youtube:'IODxDxX7oi4', list:['Shoulder Press','Lateral Raise','Front Raise']},
      {group:'ุชุฑุงุจูุณ', youtube:'DumbbellShrugId', list:['Dumbbell Shrug','Barbell Shrug']},
      {group:'ุจุทู', youtube:'pSHjTRCQxIw', list:['Crunches','Plank','Cable Crunch']}
    ];

    // ุฑูุฏุฑ ุดุจูุฉ ุงูุชูุงุฑูู
    const exGrid = document.getElementById('exGrid');
    EXERCISES.forEach(e=>{
      const card = document.createElement('div'); card.className='card';
      let items = '<ul class="list-disc pr-5 text-sm text-gray-700 space-y-1">';
      e.list.forEach(i=> items += `<li>${i}</li>`);
      items += '</ul>';
      card.innerHTML = `<h3 class="font-extrabold text-blue-700 mb-2">${e.group}</h3>${items}<div class="yt-thumb mt-3" data-yt="${e.youtube}"><button class="btn-secondary">ุดุบูู ุงูููุฏูู</button></div><div class="mt-2 text-xs text-gray-600">ูค ุฌููุงุช (ูกูฅโูกูขโูกูขโูกู) | ุฑุงุญุฉ ูคูุซ | ุฑุงุญุฉ ูข ุฏูููุฉ ุจูู ุงูุชูุงุฑูู<br><a target="_blank" rel="noopener" class="yt-open text-blue-600 text-sm" href="https://www.youtube-nocookie.com/watch?v=${e.youtube}">ูุชุญ ูู ุงูููุชููุจ</a></div>`;
      exGrid.appendChild(card);
    });

    // ุงูุฎุทุฉ ุงูุดุงููุฉ ููุฃุณุจูุน ุงูุฃูู (full-body)
    const firstWeekGrid = document.getElementById('firstWeekGrid');
    const fullBody = [
      {title:'ุชูุฑูู ุดุงูู 1', yt:'IODxDxX7oi4', desc:'ุชูุงุฑูู ูุฑูุจุฉ: ุณููุงุชุ ุจูุดุ ุณุญุจุ ุจูุงูู'},
      {title:'ุชูุฑูู ุดุงูู 2', yt:'aclHkVaku9U', desc:'ุชุฑููุฒ ุนูู ุงูุณุงููู ูุงูุธูุฑ'},
    ];
    fullBody.forEach(f=>{
      const c = document.createElement('div'); c.className='p-3 bg-white rounded shadow';
      c.innerHTML = `<h4 class="font-bold">${f.title}</h4><p class="text-sm">${f.desc}</p><div class="yt-thumb mt-2" data-yt="${f.yt}"><button class="btn-secondary">ุดุบูู ุงูููุฏูู</button></div>`;
      firstWeekGrid.appendChild(c);
    });

    // ุชุญููู thumbs ุฅูู iframe ุนูุฏ ุงูููุฑ
    document.addEventListener('click', function(e){
      const t = e.target.closest('.yt-thumb');
      if(t){
        const id = t.getAttribute('data-yt');
        if(!id) return;
        const iframe = document.createElement('iframe');
        iframe.width = '560'; iframe.height = '315';
        iframe.setAttribute('allow','accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture');
        iframe.setAttribute('allowfullscreen','');
        iframe.src = `https://www.youtube-nocookie.com/embed/${id}?rel=0&modestbranding=1`;
        t.innerHTML = '';
        t.appendChild(iframe);
      }
    });

    // ุฌุฏูู ุงูุฃุณุจูุน ุงูุซุงุจุช ููุง ุทูุจุช
    const weekPlan = {
      'ุงูุฃุญุฏ':'ุตุฏุฑุ ุชุฑุงูุ ุจุทู',
      'ุงูุงุซููู':'ุธูุฑุ ุจุงู',
      'ุงูุซูุงุซุงุก':'ุงูุชุงูุ ุชุฑุงุจูุณุ ุจุทู',
      'ุงูุฃุฑุจุนุงุก':'ุงูุฎุงุฐุ ุจุทุงุช',
      'ุงูุฎููุณ':'ุจุงูุ ุชุฑุงูุ ุณูุงุนุฏุ ุจุทู',
      'ุงูุฌูุนุฉ':'ุฑุงุญุฉ',
      'ุงูุณุจุช':'ุฑุงุญุฉ'
    };
    const weeklyPlanEl = document.getElementById('weekly-plan');
    Object.keys(weekPlan).forEach(day=>{
      const div = document.createElement('div'); div.className='card p-3';
      div.innerHTML = `<strong>${day}</strong><div class="text-sm mt-1">${weekPlan[day]}</div>`;
      weeklyPlanEl.appendChild(div);
    });

    // ุฃุฏุฑุฌ ุงููุฌุจุงุช ุงูููููุฉ ุงูุซุงุจุชุฉ ุถูู ุญูู ุงููุฌุจุงุช (ูู ุงุญุชุฌูุง ุชุนุฏูู ุฏููุงูููู ูุงุญูุงู)
    // (ุชู ุฅุถุงูุฉ ุงููุญุชูู ุงูุซุงุจุช ุฃุนูู ูู ุงูููุทุน ุงูุฎุงุต ุจุงููุฌุจุงุช)
    // ูุงุญูุงู ุณูุฑุจุท ุงูุณุนุฑุงุช ูู ุงูุญุงุณุจุฉ ุฏููุงููููุงู.

    // ุชููุฆุฉ ุดุจูุฉ ุงูุฃุทุนูุฉ ุฅู ูุงูุช meals.js ุชุถุน RECIPES
    if(window.RECIPES && Array.isArray(window.RECIPES)){
      const foodsGrid = document.getElementById('foodsGrid');
      // ูุนุฑุถ ุนููุงุช ุฃูููุฉ
      window.RECIPES.slice(0,12).forEach(r=>{
        const d = document.createElement('div'); d.className='food-card p-3 bg-white rounded shadow';
        const ingr = (r.ingredients || []).slice(0,6).join('ุ ');
        d.innerHTML = `<h3 class="font-bold">${r.title}</h3><p class="text-sm mt-1">${r.calories || 'โ'} ุณ | ${ingr}</p><div class="mt-2"><button class="btn-secondary" onclick="(function(){let f=JSON.parse(localStorage.getItem('fav_recipes_v1')||'[]'); if(!f.includes('${r.id}')){f.push('${r.id}'); localStorage.setItem('fav_recipes_v1', JSON.stringify(f)); alert('ุฃุถูู ููููุถูุฉ');}else{alert('ููุฌูุฏ');}})()">โ ููุถูุฉ</button></div>`;
        foodsGrid.appendChild(d);
      });
    }

    // ุชูุนูู ุงูุชุจููุจุงุช ูุงูุชูููู ุงูุจุณูุท
    document.querySelectorAll('.nav-btn').forEach(btn=>{
      btn.addEventListener('click', function(){
        document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('tab-active'));
        this.classList.add('tab-active');
        const target = this.getAttribute('data-target');
        document.querySelectorAll('section.section').forEach(s=>s.classList.add('hidden'));
        const el = document.getElementById(target);
        if(el) el.classList.remove('hidden');
      });
    });

    // ุฅุจูุงุก ุงููุงุฌูุฉ ุฌุงูุฒุฉ
    console.log('UI helper loaded: exercises, weekly-plan, fixed meals added.');
  })();
  </script>
</body>
</html>
