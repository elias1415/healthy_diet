<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>دليل الرجيم الصحي – السعودية</title>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Critical fallback CSS -->
  <style id="critical-fallback">
    :root{--accent:#667eea;--card-bg:#fff}
    body{font-family:"Cairo",sans-serif;margin:0;background:#f7fafc;color:#111}
    .hidden{display:none!important}
    .tab-active{background:var(--accent);color:#fff;border-radius:9999px;padding:6px 12px}
    .nav-btn{cursor:pointer;border:1px solid transparent;padding:6px 10px;border-radius:9999px;background:transparent}
    .card{background:var(--card-bg);border-radius:10px;padding:12px;box-shadow:0 6px 18px rgba(0,0,0,.06);margin:8px 0}
    .section{display:block;padding:18px 0}
    .btn-primary{background:var(--accent);color:#fff;padding:8px 12px;border-radius:8px;border:none;cursor:pointer}
    .btn-secondary{background:#fff;border:1px solid #e2e8f0;padding:6px 10px;border-radius:6px;cursor:pointer}
    .inp{width:100%;padding:8px;border:1px solid #d1d5db;border-radius:6px}
  </style>
  <link rel="stylesheet" href="css/styles.css">
  <meta name="theme-color" content="#667eea">
</head>
<body>
  <header class="gradient-bg text-white py-8">
    <div class="container">
      <h1>دليل الرجيم الصحي – مناسب للسعودية</h1>
    </div>
  </header>

  <nav>
    <div>
      <button class="nav-btn tab-active" data-target="foods">الأطعمة</button>
      <button class="nav-btn" data-target="diet-plan">جدول الوجبات</button>
      <button class="nav-btn" data-target="exercises">التمارين</button>
      <button class="nav-btn" data-target="calculator">حاسبة السعرات</button>
      <button class="nav-btn" data-target="progress">متابعة الرجيم</button>
    </div>
  </nav>

  <main>
    <section id="foods" class="section">
      <h2>الأطعمة</h2>
      <div id="foodsGrid"></div>
    </section>

    <section id="diet-plan" class="section hidden">
      <h2>جدول الوجبات</h2>
      <div id="weekly-plan"></div>
      <div>
        <h3>الوجبات اليومية الثابتة</h3>
        <ol>
          <li><strong>الوجبة الأولى:</strong> ٤ بيضات (١ كاملة + ٣ بياض) مسلوقة + ٢٠٠غ بطاطس مسلوقة + ٥٠غ شوفان.</li>
          <li><strong>بعد ٣ ساعات - الوجبة الثانية:</strong> ١٦٠غ صدور دجاج + ١٤٠غ رز أبيض + سلطة خضرا.</li>
          <li><strong>بعد ٣ ساعات - الوجبة الثالثة:</strong> ١٧٠غ لحم بقري + ٨٠غ مكرونة + سلطة خضرا.</li>
          <li><strong>بعد ٣ ساعات - الوجبة الرابعة:</strong> تونة (ماء وملح) عبوة وسط + خيار أو خس.</li>
        </ol>
      </div>
    </section>

    <section id="exercises" class="section hidden">
      <h2>التمارين</h2>
      <div id="exGrid"></div>
    </section>

    <section id="calculator" class="section hidden">
      <h2>حاسبة السعرات</h2>
      <div id="calcRoot"></div>
    </section>

    <section id="progress" class="section hidden">
      <h2>متابعة الرجيم</h2>
      <div>
        <input id="weightInput" class="inp" placeholder="أدخل وزنك (كغ)">
        <button id="addWeight" class="btn-primary">إضافة وزن</button>
      </div>
      <ul id="weightList"></ul>
      <canvas id="weightChart" width="400" height="200"></canvas>
    </section>
  </main>

  <footer>
    <p>© مٌعدّ للتجربة</p>
  </footer>

  <!-- scripts: meals, tracker, app-safe -->
  <script defer src="js/meals.js"></script>
  <script defer src="js/tracker.js"></script>
  <script defer src="js/app.safe.js"></script>

  <!-- register service worker commented during staging -->
  <!-- <script> if('serviceWorker' in navigator) navigator.serviceWorker.register('/sw.js'); </script> -->
</body>
</html>
